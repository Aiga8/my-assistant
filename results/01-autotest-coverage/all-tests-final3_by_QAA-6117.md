# Autotests — описание для маппинга на ручные кейсы (Playwright / tests)

---

### 1. Открытие списка проектов при входе в приложение
Открытие базового URL приводит к отображению страницы со списком проектов.

**TestRail:**
- ID: Not found
- Mapped: no
- Mapped: no



**Предусловия:**
- Приложение DrillSpot доступно по базовому URL

**Шаги:**
1. Открыть базовый URL приложения DrillSpot
2. Дождаться завершения загрузки страницы

**Ожидаемый результат:**
- Заголовок вкладки браузера содержит «DrillSpot»
- Адрес страницы соответствует `/projects`
- Страница со списком проектов отображается

**Автотест:**
- Название теста: Simple SSO Login Bypass Test
- Новое имя: APP-001 Simple SSO Login Bypass Test
- Путь: playwright/tests/App/app.spec.ts

**Примечание (опционально):**
- Сценарий проверяет поведение при открытии приложения без перехода на конкретный проект.

---

### 2. Установка соединения реального времени после загрузки дашборда
После загрузки дашборда устанавливается соединение реального времени **через WebSocket proxy** и приложение получает служебное сообщение о подключении.

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- Приложение DrillSpot доступно по базовому URL
- Доступен проект с дашбордом

**Шаги:**
1. Открыть базовый URL приложения DrillSpot
2. Дождаться загрузки дашборда (появления зоны дашборда)

**Ожидаемый результат:**
- Дашборд отображается
- В WebSocket‑соединении получено сообщение, содержащее `drillspot/connection` (подключение установлено)

**Автотест:**
- Название теста: should establish WebSocket connection through proxy
- Новое имя: WS-001 should establish WebSocket connection through proxy
- Путь: playwright/tests/ws-mock/ws-proxy.spec.ts

---

### 3. Импорт BHA-компонентов: доступность, валидация файла, замена данных и обработка ошибок
Проверяется поведение импорта компонентов BHA: доступность действия (в т.ч. по правам), валидация формата/размера файла, импорт в пустой/непустой Run (включая модальное подтверждение замены), сценарии успеха/ошибок и импорт через Drag & Drop.

**TestRail:**
- ID: 340171, 350276, 340173, 340174, 341587,353934, 345010, 344980, 344989,344990, 344991, 344992,   344993,344994
     partial: 344995, 345011, 352389, 345007, 341586
- Mapped: yes

**Предусловия:**
- Приложение DrillSpot доступно по базовому URL
- Доступен экран/раздел с таблицей компонентов BHA для выбранного Run

**Шаги:**
1. Открыть базовый URL приложения DrillSpot и дождаться загрузки страницы
2. Перейти к экрану Sections & Runs → открыть Run → подготовить таблицу компонентов (Components table)
3. Проверить, что кнопка **Import Components** видима и активна, и что по клику открывается диалог выбора файла (file chooser)
4. Загрузить файлы **поддерживаемых форматов** через диалог выбора файла: `.pdf, .png, .jpg, .jpeg, .xlsx, .csv, .doc, .docx`
5. Загрузить файлы **неподдерживаемых форматов** через диалог выбора файла: `.txt, .xml, .zip, .rar, .exe, .js` и проверить уведомление об ошибке формата
6. Проверить **допустимые размеры** файла (например, 1MB, 29MB, 30MB) и убедиться, что критическая ошибка не отображается
7. Проверить **недопустимые размеры** файла (например, 31MB, 50MB) и проверить уведомление об ошибке размера
8. Проверить Drag & Drop:
   - 8.1. При `dragover` над областью S&R/Components появляется overlay (активация DnD)
   - 8.2. Drop поддерживаемых форматов в таблицу компонентов не приводит к критической ошибке
   - 8.3. Для неподдерживаемых форматов DnD не активируется/или приводит к ошибке формата
   - 8.4. Drop нескольких файлов: принимается только первый (без критической ошибки)
   - 8.5. Drop вне таблицы компонентов игнорируется
   - 8.6. Для oversized (например, 31MB) по DnD отображается ошибка размера
9. Подготовить сценарий импорта в пустой Run и проверить, что после импорта в таблице появляются строки компонентов
10. Подготовить сценарий импорта при наличии компонентов:
   - 10.1. Инициировать импорт и убедиться, что появляется модальное окно **Replace Components?** с кнопками Replace/Cancel
   - 10.2. Подтвердить Replace и убедиться, что старые данные не сохраняются (нет merge), а новые компоненты отображаются
11. Проверить уведомления результата импорта:
   - 11.1. Успех: отображается сообщение **Components successfully imported**
   - 11.2. Ошибка парсинга: отображается критическое уведомление (failed/error)
   - 11.3. Server 500: отображается критическое уведомление
   - 11.4. Timeout: запрос прерывается и отображается ошибка/критическое уведомление (или импорт не “зависает” без обратной связи)
12. Проверить права VIEWER: импорт недоступен (кнопка disabled), tooltip содержит **Insufficient permission**, DnD недоступен

**Ожидаемый результат:**
- Страница приложения загружена (заголовок вкладки браузера содержит «DrillSpot»)
- На экране Components table действие импорта доступно (для роли с правами) и по клику открывается диалог выбора файла
- Для поддерживаемых форматов и размеров до 30MB не отображается критическое уведомление об ошибке
- Для неподдерживаемого формата отображается ошибка **File format is not supported** и список поддерживаемых форматов
- Для размера файла больше 30MB отображается ошибка **File size is too large, please upload a file less than 30MB**
- Drag & Drop работает в таблице компонентов: overlay появляется на dragover; drop поддерживаемых файлов не даёт критической ошибки; drop вне таблицы игнорируется; multi-file drop принимает только первый
- После импорта в пустой Run в таблице появляются строки компонентов
- При наличии компонентов перед заменой отображается модальное окно **Replace Components?** с кнопками Replace/Cancel
- После подтверждения Replace отображаются новые данные компонентов, ранее существовавшие данные не сохраняются (нет merge)
- При успешном импорте отображается сообщение **Components successfully imported**
- При ошибках (парсинг/500/timeout) отображается критическое уведомление
- Для пользователя с ограниченными правами импорт недоступен (кнопка disabled), отображается tooltip **Insufficient permission**, DnD недоступен

**Автотест:**
- Название теста: Complete BHA import functionality test
- Новое имя: BHA-001 Complete BHA import functionality test
- Путь: playwright/tests/bha-import/bha-import.spec.ts

**Примечание (опционально):**
В коде набор тестов помечен как пропущенный (временно не исполняется при запуске).

---

### 4. Автовыбор скважины при открытии дашборда без указания скважины в ссылке
При открытии дашборда без указания скважины система выбирает скважину и дополняет адрес страницы.

**TestRail:**
- ID: 402343
- Mapped: yes

**Предусловия:**
- Приложение DrillSpot доступно по базовому URL
- Доступен проект с дашбордом

**Шаги:**
1. Открыть ссылку на дашборд проекта в режиме multi-window **без сегмента `/wellbores/...`** (пример: `/projects/<projectUuid>/windows/<dashboardUuid>`)
2. Дождаться отображения зоны дашборда
3. Дождаться нормализации URL (автодобавления выбранной скважины)

**Ожидаемый результат:**
- Дашборд отображается
- Адрес страницы автоматически дополняется выбранной скважиной (в адресе появляется сегмент `/wellbores/<wellboreUuid>`)

**Автотест:**
- Название теста: visiting url without wellbore uuid should select source
- Новое имя: MW-001 visiting url without wellbore uuid should select source [402343]
- Путь: playwright/tests/Routing/multi-window-routing.spec.ts

---

### 5. Открытие дашборда при переходе на базовый URL приложения (multi-window)
При открытии базового URL приложение отображает дашборд и приводит адрес страницы к формату multi-window со скважиной.

**TestRail:**
- ID: 402344
- Mapped: yes

**Предусловия:**
- Приложение DrillSpot доступно по базовому URL

**Шаги:**
1. Открыть базовый URL приложения DrillSpot (пример: `/`)
2. Дождаться отображения зоны дашборда
3. Дождаться нормализации URL к формату multi-window со скважиной

**Ожидаемый результат:**
- Дашборд отображается
- Адрес страницы соответствует формату `/projects/<projectUuid>/windows/<dashboardUuid>/wellbores/<wellboreUuid>` (проект/дашборд берутся из `drillspot-settings`)

**Автотест:**
- Название теста: should open project from drillspot-settings when navigating to default URL
- Новое имя: MW-002 should open project from drillspot-settings when navigating to default URL [402344]
- Путь: playwright/tests/Routing/multi-window-routing.spec.ts

---

### 6. Автоматическое преобразование ссылок из формата dashboards в формат windows (multi-window)
Приложение автоматически приводит адрес страницы из формата `/dashboards/` к формату `/windows/`.

**TestRail:**
- ID: 402345
- Mapped: yes
- Mapped: yes

**Предусловия:**
- Приложение DrillSpot доступно по базовому URL
- Доступны проект, дашборд и скважина

**Шаги:**
1. Открыть ссылку на дашборд в “старом” формате `/dashboards/` со скважиной (пример: `/projects/<projectUuid>/dashboards/<dashboardUuid>/wellbores/<wellboreUuid>`)
2. Дождаться завершения обработки адреса (нормализации)

**Ожидаемый результат:**
- Адрес страницы изменяется так, что `/dashboards/` заменяется на `/windows/`
- Сегмент со скважиной остаётся в адресе (в адресе присутствует `/wellbores/...`)

**Автотест:**
- Название теста: should replace /dashboards/ with /windows/ in url
- Новое имя: MW-003 should replace /dashboards/ with /windows/ in url [402345]
- Путь: playwright/tests/Routing/multi-window-routing.spec.ts

---

### 7. Приоритет скважины из адреса страницы над сохранённым выбором (multi-window)
Если в адресе страницы явно указана скважина, приложение сохраняет указанную скважину при загрузке и нормализации формата ссылки.

**TestRail:**
- ID: 403116
- Mapped: yes

**Предусловия:**
- Приложение DrillSpot доступно по базовому URL
- Доступны проект и дашборд

**Шаги:**
1. Открыть ссылку в формате multi-window, где скважина явно указана в пути: `/projects/<projectUuid>/windows/<dashboardUuid>/wellbores/<anotherWellboreUuid>`
2. Дождаться завершения стабилизации адреса страницы (URL не должен быть переписан на скважину из `drillspot-settings`)
3. (Дополнительно) Открыть аналогичную ссылку в формате `/dashboards/.../wellbores/<anotherWellboreUuid>` и убедиться, что она приводится к `/windows/.../wellbores/<anotherWellboreUuid>`

**Ожидаемый результат:**
- Адрес страницы содержит скважину, указанную в ссылке (приоритет URL над сохранённым выбором)
- Для “старого” формата `/dashboards/` адрес нормализуется к `/windows/` без изменения указанной скважины

**Автотест:**
- Название теста: should handle wellbore uuid from url in new format, ignore wellbore from drillspot-settings
- Новое имя: MW-004 should handle wellbore uuid from url in new format, ignore wellbore from drillspot-settings [403116]
- Путь: playwright/tests/Routing/multi-window-routing.spec.ts

---

### 8. Обработка старых ссылок с параметрами зоны и скважины (multi-window)
Приложение корректно обрабатывает старый формат ссылки с параметрами и приводит адрес к формату multi-window со скважиной.

**TestRail:**
- ID: 402345

**Предусловия:**
- Приложение DrillSpot доступно по базовому URL
- Доступны проект и дашборд

**Шаги:**
1. Открыть ссылку на дашборд в старом формате: `/projects/<projectUuid>/dashboards/<dashboardUuid>?z=<zoneUuid1>,<zoneUuid2>&w=<wellboreUuid1>,<wellboreUuid2>`
2. Дождаться завершения обработки адреса страницы

**Ожидаемый результат:**
- Адрес страницы приводится к формату `/projects/.../windows/.../wellbores/<uuid>`
- В адресе используется скважина из параметра `w` (в автотесте передаётся список значений, берётся валидный UUID из списка)

**Автотест:**
- Название теста: should handle old links, with ?z={zoneUuid}&w={wellboreUuid} parameters
- Новое имя: MW-005 should handle old links, with ?z={zoneUuid}&w={wellboreUuid} parameters [402345]
- Путь: playwright/tests/Routing/multi-window-routing.spec.ts

---

### 9. Приоритет скважины из пути адреса страницы над значением в параметрах (multi-window)
При конфликте значений скважины в пути адреса и в параметрах приложение сохраняет скважину из пути.

**TestRail:**
- ID: 403117
- Mapped: yes

**Предусловия:**
- Приложение DrillSpot доступно по базовому URL
- Доступны проект и дашборд

**Шаги:**
1. Открыть ссылку на дашборд в формате multi-window, где скважина указана в пути, и дополнительно передан параметр `w=...` (пример: `/projects/<projectUuid>/windows/<dashboardUuid>/wellbores/<pathnameWellboreUuid>?z=<zoneUuid>&w=<queryWellboreUuid>`)
2. Дождаться завершения обработки адреса страницы

**Ожидаемый результат:**
- Адрес страницы сохраняет скважину, указанную в пути

**Автотест:**
- Название теста: should prioritize wellbore from pathname over wellbore from ?z=...&w=...
- Новое имя: MW-006 should prioritize wellbore from pathname over wellbore from ?z=...&w=... [403117]
- Путь: playwright/tests/Routing/multi-window-routing.spec.ts

---

### 10. Отображение имени скважины во вкладке дашборда (multi-window)
Во вкладке дашборда отображается имя выбранной скважины.

**TestRail:**
- ID: 402342
- Mapped: yes

**Предусловия:**
- Приложение DrillSpot доступно по базовому URL
- Доступны проект, дашборд и скважина

**Шаги:**
1. Открыть ссылку на дашборд в формате multi-window для конкретной скважины: `/projects/<projectUuid>/windows/<dashboardUuid>/wellbores/<wellboreUuid>`
2. Дождаться отображения содержимого вкладки дашборда
3. Проверить, что вкладка содержит имя скважины (в автотесте — атрибут `data-wellbore-name`)

**Ожидаемый результат:**
- Содержимое вкладки дашборда отображается
- Для вкладки дашборда указано имя скважины

**Автотест:**
- Название теста: should display wellbore name in dashboard tab
- Новое имя: MW-007 should display wellbore name in dashboard tab [402342]
- Путь: playwright/tests/Routing/multi-window-routing.spec.ts

---

### 11. Приоритет параметров прямой ссылки над сохранёнными настройками навигации
При открытии прямой ссылки приложение использует проект и дашборд из адреса страницы, игнорируя ранее сохранённый другой выбор.

**TestRail:**
- ID: 85397
- Mapped: yes

**Предусловия:**
- Приложение DrillSpot доступно по базовому URL
- Доступен проект с дашбордом

**Шаги:**
1. Подготовить сохранённые настройки (drillspot-settings) так, чтобы в них был **другой** проект/дашборд, отличающийся от открываемого по URL
2. Открыть прямую ссылку на проект и дашборд (пример: `/projects/<projectUuid>/dashboards/<dashboardUuid>`)
3. Дождаться загрузки дашборда (зона дашборда видима)

**Ожидаемый результат:**
- Дашборд отображается
- Адрес страницы содержит идентификаторы проекта и дашборда из открытой ссылки (приоритет URL над сохранёнными настройками)
- Адрес страницы **не** содержит идентификаторы проекта/дашборда из drillspot-settings (которые должны быть проигнорированы)

**Автотест:**
- Название теста: DS-10885: should navigate via direct link with URL priority over saved settings
- Новое имя: RT-001 DS-10885: should navigate via direct link with URL priority over saved settings [85397]
- Путь: playwright/tests/Routing/routing.spec.ts

---

### 12. Переход по ссылке с параметром открытия SlideSheet-виджета
При открытии ссылки со специальным параметром происходит переход на страницу дашборда, где отображается виджет.

**TestRail:**
- ID: 403512
- Mapped: yes

**Предусловия:**
- Пользователь авторизован

**Шаги:**
1. Открыть ссылку на скважину со специальным параметром: `/projects/<projectUuid>/wellbores/<wellboreUuid>?widget=slidesheet`
2. Дождаться перенаправления на страницу дашборда (URL содержит `/dashboards/` или `/windows/`)
3. Дождаться отображения виджета (первый элемент `[data-object-type="widget"]` видим)
4. (Опционально) Проверить, что виджет открыт в максимизированном состоянии (если применимо/детектируется)

**Ожидаемый результат:**
- Адрес страницы соответствует формату страницы дашборда (в адресе присутствует `/dashboards/` или `/windows/`)
- На странице отображается виджет

**Автотест:**
- Название теста: should handle slidesheet widget redirect and maximize
- Новое имя: RT-002 should handle slidesheet widget redirect and maximize [403512]
- Путь: playwright/tests/Routing/routing.spec.ts

---

### 13. Переключение режима Table-виджета с Trajectory на SlideSheet при открытии ссылки `?widget=slidesheet`
При открытии ссылки со специальным параметром приложение открывает дашборд с Table виджетом и переключает его режим с Trajectory на SlideSheet.

**TestRail:**
- ID: 403513
- Mapped: yes

**Предусловия:**
Пользователь авторизован
Открыт Table виджет в режиме Trajectory

**Шаги:**
1. Открыть ссылку на скважину со специальным параметром: `/projects/<projectUuid>/wellbores/<wellboreUuid>?widget=slidesheet`
2. Дождаться перенаправления на страницу дашборда (URL содержит `/dashboards/` или `/windows/`)

**Ожидаемый результат:**
- Изначально Table виджет в режиме Trajectory
- Открыт дашборд с Table виджетом в режиме SlideSheet
- Режим Table виджета переключен с Trajectory на SlideSheet

**Автотест:**
- Название теста: should switch Table widget to SlideSheet mode on ?widget=slidesheet URL param
- Новое имя: RT-003 should switch Table widget to SlideSheet mode on ?widget=slidesheet URL param [403513]
- Путь: playwright/tests/Routing/routing.spec.ts

---

### 14. Переход по ссылке с параметром открытия ToolFace-виджета
При открытии ссылки со специальным параметром происходит переход на страницу дашборда, где отображается виджет.

**TestRail:**
- ID: 403514
- Mapped: yes

**Предусловия:**
- Приложение DrillSpot доступно по базовому URL
- Доступен проект и скважина

**Шаги:**
1. Открыть ссылку на скважину со специальным параметром: `/projects/<projectUuid>/wellbores/<wellboreUuid>?widget=tool-face`
2. Дождаться перенаправления на страницу дашборда (URL содержит `/dashboards/` или `/windows/`)
3. Дождаться отображения виджета (первый элемент `[data-object-type="widget"]` видим)
4. (Опционально) Проверить, что виджет открыт в максимизированном состоянии (если применимо/детектируется)

**Ожидаемый результат:**
- Адрес страницы соответствует формату страницы дашборда (в адресе присутствует `/dashboards/` или `/windows/`)
- На странице отображается виджет

**Автотест:**
- Название теста: should handle toolface widget redirect and maximize
- Новое имя: RT-004 should handle toolface widget redirect and maximize [403514]
- Путь: playwright/tests/Routing/routing.spec.ts

---

### 15. Переход на список проектов и возврат на дашборд проекта
Переход на список проектов и возврат на дашборд выполняются корректно.

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- Приложение DrillSpot доступно по базовому URL
- Доступен проект с дашбордом

**Шаги:**
1. Открыть дашборд проекта
2. Перейти на страницу со списком проектов
3. Снова открыть дашборд проекта

**Ожидаемый результат:**
- На первом шаге дашборд отображается
- На странице проектов отображается список проектов (`[data-testid="projects-list-page"]` видим), а адрес страницы соответствует `/projects`
- После возврата на дашборд адрес страницы содержит идентификаторы проекта и дашборда

**Автотест:**
- Название теста: should navigate to all projects view and back
- Новое имя: RT-005 should navigate to all projects view and back
- Путь: playwright/tests/Routing/routing.spec.ts

---

### 16. Обработка некорректной ссылки на дашборд и неполного адреса дашборда
Приложение корректно обрабатывает некорректный идентификатор дашборда и ситуацию, когда адрес дашборда задан не полностью.

**TestRail:**
- ID: 403515
- Mapped: yes

**Предусловия:**
Пользователь авторизован
В drillspot-settings сохранён дашборд D1

**Шаги:**
1. Открыть ссылку /projects/<projectUuid>/dashboards/invalid-dash-uuid-does-not-exist
2. Открыть ссылку /projects/<projectUuid>/dashboards/

**Ожидаемый результат:**
- Отображается страница ошибки дашборда (`[data-testid="dashboard-404-page"]` видим)
- При неполном адресе `/projects/<projectUuid>/dashboards/` открывается сохранённый дашборд D1:
  - на странице отображается зона дашборда (`[data-testid="dashboard-zone"]` видим)
  - адрес страницы содержит формат `/dashboards/` или `/windows/`
  - адрес страницы содержит uuid дашборда D1

**Автотест:**
- Название теста: should handle invalid URLs and missing parameters gracefully
- Новое имя: RT-006 should handle invalid URLs and missing parameters gracefully [403515]
- Путь: playwright/tests/Routing/routing.spec.ts

---

### 17. Открытие списка проектов при отсутствии ранее выбранного проекта
Если ранее не выбран проект, при открытии базового URL отображается список проектов.

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- Приложение DrillSpot доступно по базовому URL
- Для пользователя не задан ранее выбранный проект (`drillspot-settings.projectUuid = null`)

**Шаги:**
1. Открыть базовый URL приложения DrillSpot
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- Отображается список проектов
- Адрес страницы соответствует `/projects`

**Автотест:**
- Название теста: Root URL: new user without saved project
- Новое имя: RT-007 Root URL: new user without saved project
- Путь: playwright/tests/Routing/routing.spec.ts

---

### 18. Восстановление ранее выбранного проекта при открытии базового URL
Если ранее был выбран проект, при открытии базового URL приложение переходит на страницу проекта и отображает дашборд.

**TestRail:**
- ID: 402344
- Mapped: yes

**Предусловия:**
- Приложение DrillSpot доступно по базовому URL
- Для пользователя ранее был выбран проект

**Шаги:**
1. Открыть базовый URL приложения DrillSpot
2. Дождаться перехода на страницу проекта и загрузки дашборда

**Ожидаемый результат:**
- Адрес страницы содержит сегмент `/projects/<uuid>/` (происходит восстановление проекта из сохранённых настроек)
- Дашборд отображается

**Автотест:**
- Название теста: Root URL: restore saved project on refresh
- Новое имя: RT-008 Root URL: restore saved project on refresh [402344]
- Путь: playwright/tests/Routing/routing.spec.ts

---

### 19. Создание вкладки при открытии дашборда
При открытии дашборда появляется вкладка в панели вкладок.

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- Приложение DrillSpot доступно по базовому URL
- Доступен проект с дашбордом

**Шаги:**
1. Открыть ссылку на дашборд проекта
2. Дождаться загрузки дашборда

**Ожидаемый результат:**
- Дашборд отображается
- В панели вкладок отображается 1 вкладка

**Автотест:**
- Название теста: should create tab when open dashboard
- Новое имя: TAB-004 should create tab when open dashboard
- Путь: playwright/tests/Tabs/tab-lifecycle.spec.ts

---

### 20. Переключение дашборда через выпадающий список создаёт дополнительную вкладку
При переключении на другой дашборд через выпадающий список добавляется новая вкладка.

**TestRail:**
- ID: 377452 (partial), 377453 (partial)
- Mapped: yes

**Предусловия:**
- Приложение DrillSpot доступно по базовому URL
- Доступны два дашборда в одном проекте

**Шаги:**
1. Открыть дашборд проекта и дождаться загрузки
2. В выпадающем списке дашбордов выбрать другой дашборд

**Ожидаемый результат:**
- Дашборд отображается после переключения
- Выпадающий список дашбордов закрыт
- В панели вкладок отображается 2 вкладки

**Автотест:**
- Название теста: should switch dashboard via dropdown
- Новое имя: TAB-005 should switch dashboard via dropdown (partial) [377452, 377453]
- Путь: playwright/tests/Tabs/tab-lifecycle.spec.ts

---

### 21. Закрытие одной вкладки оставляет активным другой дашборд
При закрытии вкладки один дашборд закрывается, а оставшийся дашборд остаётся активным.

**TestRail:**
- ID: 363024 (partial)
- Mapped: yes

**Предусловия:**
- В панели вкладок открыты два дашборда

**Шаги:**
1. Открыть дашборд проекта так, чтобы было две вкладки дашбордов
2. Закрыть одну из вкладок дашборда

**Ожидаемый результат:**
- После закрытия вкладки другой дашборд остаётся активным и отображается

**Автотест:**
- Название теста: should close tab and keep remaining dashboard active
- Новое имя: TAB-006 should close tab and keep remaining dashboard active (partial) [363024]
- Путь: playwright/tests/Tabs/tab-lifecycle.spec.ts

---

### 22. Открытие S&R по прямой ссылке отображает раздел и не создаёт дополнительные вкладки
Переход на раздел Sections & Runs по прямой ссылке отображает раздел и не добавляет дополнительные вкладки.

**TestRail:**
- ID: 406037
- Mapped: yes

**Предусловия:**
- Доступен проект и скважина

**Шаги:**
1. Открыть ссылку на раздел Sections & Runs для выбранной скважины
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- Раздел Sections & Runs отображается
- В панели вкладок отображается 1 вкладка

**Автотест:**
- Название теста: should open S&R tab in UI without saving to drillspot-settings
- Новое имя: TAB-012 should open S&R tab in UI without saving to drillspot-settings [406037]
- Путь: playwright/tests/Tabs/service-tabs.spec.ts

---

### 23. Открытие Trajectory по прямой ссылке отображает раздел и не создаёт дополнительные вкладки
Переход на раздел Trajectory по прямой ссылке отображает раздел и не добавляет дополнительные вкладки.

**TestRail:**
- ID: 406038
- Mapped: yes

**Предусловия:**
- Доступен проект и скважина

**Шаги:**
1. Открыть ссылку на раздел Trajectory для выбранной скважины
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- Раздел Trajectory отображается
- В панели вкладок отображается 1 вкладка

**Автотест:**
- Название теста: should open Trajectory tab in UI without saving to drillspot-settings
- Новое имя: TAB-013 should open Trajectory tab in UI without saving to drillspot-settings [406038]
- Путь: playwright/tests/Tabs/service-tabs.spec.ts

---

### 24. Открытие Mud Reports по прямой ссылке отображает раздел и не создаёт дополнительные вкладки
Переход на раздел Mud Reports по прямой ссылке отображает раздел и не добавляет дополнительные вкладки.

**TestRail:**
- ID: 406039
- Mapped: yes

**Предусловия:**
- Доступен проект и скважина

**Шаги:**
1. Открыть ссылку на раздел Mud Reports для выбранной скважины
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- Раздел Mud Reports отображается
- В панели вкладок отображается 1 вкладка

**Автотест:**
- Название теста: should open Mud Reports tab in UI without saving to drillspot-settings
- Новое имя: TAB-014 should open Mud Reports tab in UI without saving to drillspot-settings [406039]
- Путь: playwright/tests/Tabs/service-tabs.spec.ts

---

### 25. Открытие Rigs по прямой ссылке отображает раздел и не создаёт дополнительные вкладки
Переход на раздел Rigs по прямой ссылке отображает раздел и не добавляет дополнительные вкладки.

**TestRail:**
- ID: 406040
- Mapped: yes
- Mapped: yes

**Предусловия:**
- Доступен проект

**Шаги:**
1. Открыть ссылку на раздел Rigs
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- Раздел Rigs отображается
- В панели вкладок отображается 1 вкладка

**Автотест:**
- Название теста: should open Rigs tab in UI without saving to drillspot-settings
- Новое имя: TAB-015 should open Rigs tab in UI without saving to drillspot-settings [406040]
- Путь: playwright/tests/Tabs/service-tabs.spec.ts

---

### 26. Создание нового дашборда из меню добавляет вкладку с корректным именем
При создании нового дашборда из меню появляется уведомление об успехе и открывается новая вкладка с именем дашборда.

**TestRail:**
- ID: 382344
- Mapped: yes

**Предусловия:**
- Открыт дашборд проекта
- Доступно действие создания нового дашборда из выпадающего меню

**Шаги:**
1. Открыть существующий дашборд проекта
2. В выпадающем меню дашбордов запустить создание нового дашборда

**Ожидаемый результат:**
- Отображается сообщение `Dashboard "<имя>" created`
- В панели вкладок появляется вкладка с именем нового дашборда
- Количество вкладок увеличивается

**Автотест:**
- Название теста: should create new dashboard tab with correct name
- Новое имя: TAB-007 should create new dashboard tab with correct name [382344]
- Путь: playwright/tests/Tabs/pending-dashboard-tab.spec.ts

---

### 27. После создания нового дашборда отображается зона дашборда
После успешного создания дашборда новый дашборд отображается и зона дашборда видна.

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- Открыт дашборд проекта

**Шаги:**
1. Открыть существующий дашборд проекта
2. В выпадающем меню дашбордов создать новый дашборд

**Ожидаемый результат:**
- Отображается сообщение `Dashboard "<имя>" created`
- Зона дашборда отображается после создания

**Автотест:**
- Название теста: should load dashboard zone after creation
- Новое имя: TAB-008 should load dashboard zone after creation
- Путь: playwright/tests/Tabs/pending-dashboard-tab.spec.ts

---

### 28. После создания нового дашборда вкладка содержит корректное имя
После успешного создания дашборда в панели вкладок видна вкладка с корректным именем.

**TestRail:**
- ID: 382344
- Mapped: yes

**Предусловия:**
- Открыт дашборд проекта

**Шаги:**
1. Открыть существующий дашборд проекта
2. В выпадающем меню дашбордов создать новый дашборд

**Ожидаемый результат:**
- Отображается сообщение `Dashboard "<имя>" created`
- Вкладка нового дашборда видна и содержит имя нового дашборда

**Автотест:**
- Название теста: should display correct name after creation
- Новое имя: TAB-009 should display correct name after creation [382344]
- Путь: playwright/tests/Tabs/pending-dashboard-tab.spec.ts

---

### 29. При ошибке создания дашборда показывается сообщение об ошибке
Если создание нового дашборда завершается ошибкой, пользователю отображается сообщение об ошибке.

**TestRail:**
- ID: 382347
- Mapped: yes

**Предусловия:**
- Открыт дашборд проекта

**Шаги:**
1. Открыть существующий дашборд проекта
2. В выпадающем меню дашбордов запустить создание нового дашборда

**Ожидаемый результат:**
- Отображается сообщение `Failed to create dashboard`

**Автотест:**
- Название теста: should show error message on creation failure
- Новое имя: TAB-010 should show error message on creation failure [382347]
- Путь: playwright/tests/Tabs/pending-dashboard-tab.spec.ts

---

### 30. При ошибке создания дашборда новая вкладка не добавляется
Если создание нового дашборда завершается ошибкой, вкладка нового дашборда не появляется, количество вкладок не меняется.

**TestRail:**
- ID: 382347
- Mapped: yes

**Предусловия:**
- Открыт дашборд проекта

**Шаги:**
1. Открыть существующий дашборд проекта
2. В выпадающем меню дашбордов запустить создание нового дашборда

**Ожидаемый результат:**
- Отображается сообщение `Failed to create dashboard`
- Вкладка с именем нового дашборда не отображается
- Количество вкладок остаётся прежним

**Автотест:**
- Название теста: should not add tab on creation failure
- Новое имя: TAB-011 should not add tab on creation failure [382347]
- Путь: playwright/tests/Tabs/pending-dashboard-tab.spec.ts

---

### 31. Индикатор “открыто” отображается только у открытого приватного дашборда при совпадающих названиях
Если есть два дашборда с одинаковым названием (приватный и публичный), индикатор “открыто” отображается только у реально открытого приватного дашборда.

**TestRail:**
- ID: 377460
- Mapped: yes

**Предусловия:**
- В списке дашбордов есть приватный и публичный дашборды с одинаковым названием

**Шаги:**
1. Открыть приватный дашборд
2. Открыть выпадающий список дашбордов

**Ожидаемый результат:**
- В выпадающем списке видны оба дашборда с одинаковым названием
- Индикатор “открыто” отображается только у приватного (открытого) дашборда

**Автотест:**
- Название теста: should highlight only the opened private dashboard when public dashboard has same name
- Новое имя: TAB-001 should highlight only the opened private dashboard when public dashboard has same name [377460]
- Путь: playwright/tests/Tabs/dashboard-dropdown-opened-state.spec.ts

---

### 32. Индикатор “открыто” отображается только у открытого публичного дашборда при совпадающих названиях
Если есть два дашборда с одинаковым названием (приватный и публичный), индикатор “открыто” отображается только у реально открытого публичного дашборда.

**TestRail:**
- ID: 406044
- Mapped: yes

**Предусловия:**
- В списке дашбордов есть приватный и публичный дашборды с одинаковым названием

**Шаги:**
1. Открыть публичный дашборд
2. Открыть выпадающий список дашбордов

**Ожидаемый результат:**
- В выпадающем списке видны оба дашборда с одинаковым названием
- Индикатор “открыто” отображается только у публичного (открытого) дашборда

**Автотест:**
- Название теста: should highlight only the opened public dashboard when private dashboard has same name
- Новое имя: TAB-002 should highlight only the opened public dashboard when private dashboard has same name [406044]
- Путь: playwright/tests/Tabs/dashboard-dropdown-opened-state.spec.ts

---

### 33. Индикаторы “открыто” корректно обновляются при переключении между дашбордами с одинаковыми названиями
После открытия второго дашборда индикатор “открыто” отображается у обоих дашбордов, если оба открыты во вкладках.

**TestRail:**
- ID: 406045
- Mapped: yes

**Предусловия:**
- В списке дашбордов есть приватный и публичный дашборды с одинаковым названием

**Шаги:**
1. Открыть приватный дашборд
2. Через выпадающий список выбрать публичный дашборд
3. Снова открыть выпадающий список дашбордов

**Ожидаемый результат:**
- Зона дашборда отображается после переключения
- Индикатор “открыто” отображается у обоих дашбордов (оба открыты)

**Автотест:**
- Название теста: should update opened state correctly when switching between same-named dashboards
- Новое имя: TAB-003 should update opened state correctly when switching between same-named dashboards [406045]
- Путь: playwright/tests/Tabs/dashboard-dropdown-opened-state.spec.ts

---

### 34. Открытие вкладки Rigs по прямой ссылке использует корректный формат адреса
При открытии вкладки Rigs по прямой ссылке адрес страницы соответствует ожидаемому формату.

**TestRail:**
- ID: 405202
- Mapped: yes

**Предусловия:**
- Доступен проект

**Шаги:**
1. Открыть ссылку на раздел Rigs
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- Страница Rigs отображается
- Адрес страницы содержит сегмент `/projects/<uuid>/rigs/list`

**Автотест:**
- Название теста: should open Rigs tab via direct URL with correct format
- Новое имя: RIG-001 should open Rigs tab via direct URL with correct format [405202]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 35. После открытия вкладки Rigs она отображается в панели вкладок
После открытия Rigs вкладка отображается в панели вкладок.

**TestRail:**
- ID: 406040
- Mapped: yes

**Предусловия:**
- Доступен проект

**Шаги:**
1. Открыть ссылку на раздел Rigs
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- В панели вкладок отображается 1 вкладка

**Автотест:**
- Название теста: should display Rigs tab in tab bar when opened
- Новое имя: RIG-002 should display Rigs tab in tab bar when opened [406040]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 36. Повторное открытие Rigs не создаёт дубликат вкладки
Если вкладка Rigs уже открыта, повторная навигация на Rigs не увеличивает количество вкладок.

**TestRail:**
- ID: 406041
- Mapped: yes

**Предусловия:**
- Открыта вкладка Rigs

**Шаги:**
1. Открыть раздел Rigs
2. Перейти на другую страницу проекта
3. Снова открыть раздел Rigs

**Ожидаемый результат:**
- Количество вкладок в панели вкладок не увеличивается по сравнению с моментом, когда Rigs уже был открыт

**Автотест:**
- Название теста: should focus existing Rigs tab when trying to open another one
- Новое имя: RIG-003 should focus existing Rigs tab when trying to open another one [406041]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 37. Многократная навигация на Rigs не создаёт несколько вкладок Rigs
При многократной навигации на Rigs в панели вкладок остаётся одна вкладка.

**TestRail:**
- ID: 406041
- Mapped: yes

**Предусловия:**
- Доступен проект

**Шаги:**
1. Открыть раздел Rigs
2. Перейти на другую страницу проекта
3. Снова открыть раздел Rigs

**Ожидаемый результат:**
- В панели вкладок отображается 1 вкладка

**Автотест:**
- Название теста: should not create duplicate Rigs tabs when navigating multiple times
- Новое имя: RIG-004 should not create duplicate Rigs tabs when navigating multiple times [406041]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 38. На странице Rigs отображается заголовок
При открытии Rigs отображается заголовок страницы.

**TestRail:**
- ID: 77793, Automated был уже установлен
- Mapped: yes

**Предусловия:**
- Доступен проект

**Шаги:**
1. Открыть раздел Rigs
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- На странице виден заголовок «Rigs»

**Автотест:**
- Название теста: should display Rigs header and table
- Новое имя: RIG-005 should display Rigs header and table [77793]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 39. На странице Rigs отображаются данные (список установок)
После загрузки данных на странице Rigs отображаются элементы списка (например, Rig 1 и Rig 2).

**TestRail:**
- ID: 405274 (partial)
- Mapped: yes

**Предусловия:**
- В проекте есть установки (rigs)

**Шаги:**
1. Открыть раздел Rigs
2. Дождаться загрузки данных

**Ожидаемый результат:**
- В таблице отображаются данные (например, видны записи «Rig 1» и «Rig 2»)

**Автотест:**
- Название теста: should display rig data from mock API
- Новое имя: RIG-006 should display rig data from mock API (partial) [405274]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 40. Вкладка Rigs не сохраняется в drillspot-settings (service tab)
При открытии Rigs (service tab) вкладка не должна сохраняться в профиле drillspot-settings (не должна попадать в список tabs при сохранении настроек).

**TestRail:**
- ID: 406040

**Предусловия:**
- Доступен проект

**Шаги:**
1. Открыть раздел Rigs
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- Страница Rigs отображается
- Service tab (Rigs) не сохраняется в drillspot-settings:
  - либо POST-запрос сохранения настроек не отправляется,
  - либо (если запрос отправился) в payload список `tabs` пустой

**Автотест:**
- Название теста: should NOT save Rigs tab to drillspot-settings on navigation
- Новое имя: RIG-008 should NOT save Rigs tab to drillspot-settings on navigation [406040]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 41. Вкладка Rigs закрывается при наличии нескольких вкладок
Если открыто несколько вкладок, вкладку Rigs можно закрыть, и её содержимое перестаёт отображаться.

**TestRail:**
- ID: 405205
- Mapped: no

**Предусловия:**
- Открыты вкладки Dashboard и Rigs

**Шаги:**
1. Открыть Dashboard
2. Открыть Rigs
3. Закрыть вкладку Rigs

**Ожидаемый результат:**
- Содержимое страницы Rigs перестаёт отображаться после закрытия вкладки

**Автотест:**
- Название теста: should close Rigs tab when multiple tabs are open
- Новое имя: RIG-009 should close Rigs tab when multiple tabs are open
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 42. При закрытии вкладки Rigs остаётся открыта как минимум одна вкладка
После закрытия вкладки Rigs в панели вкладок остаётся как минимум одна вкладка.

**TestRail:**
- ID: 405205
- Mapped: yes

**Предусловия:**
- Открыты вкладки Dashboard и Rigs

**Шаги:**
1. Открыть Rigs
2. Закрыть вкладку Rigs

**Ожидаемый результат:**
- В панели вкладок остаётся как минимум одна вкладка

**Автотест:**
- Название теста: should keep Dashboard tab active when Rigs tab is closed
- Новое имя: RIG-010 should keep Dashboard tab active when Rigs tab is closed [405205]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 43. Вкладка Rigs корректно открывается рядом с вкладками Dashboard
После открытия Dashboard и перехода на Rigs вкладки отображаются совместно.

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- Открыт Dashboard

**Шаги:**
1. Открыть Dashboard проекта
2. Открыть Rigs

**Ожидаемый результат:**
- Количество вкладок в панели вкладок не меньше, чем до открытия Rigs

**Автотест:**
- Название теста: should work alongside Dashboard tabs
- Новое имя: RIG-011 should work alongside Dashboard tabs
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 44. Переключение между вкладками Dashboard и Rigs по клику отображает выбранную вкладку
При клике по вкладке Dashboard отображается дашборд.

**TestRail:**
- ID: 405207
- Mapped: yes

**Предусловия:**
- Открыты вкладки Dashboard и Rigs

**Шаги:**
1. Открыть Rigs
2. В панели вкладок нажать на вкладку Dashboard

**Ожидаемый результат:**
- Дашборд отображается после переключения

**Автотест:**
- Название теста: should switch between Dashboard and Rigs tabs by clicking
- Новое имя: RIG-012 should switch between Dashboard and Rigs tabs by clicking [405207]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 45. Адрес страницы Rigs содержит корректный идентификатор проекта
При открытии Rigs адрес страницы содержит корректный идентификатор проекта.

**TestRail:**
- ID: 405200
- Mapped: yes

**Предусловия:**
- Доступен проект

**Шаги:**
1. Открыть ссылку на Rigs для проекта
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- Страница Rigs отображается
- Адрес страницы содержит сегмент `/projects/<uuid>/`

**Автотест:**
- Название теста: should update URL when navigating with different project
- Новое имя: RIG-013 should update URL when navigating with different project [405200]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 46. Корректный идентификатор вкладки Rigs в URL открывает страницу
При открытии Rigs с допустимым идентификатором вкладки страница отображается.

**TestRail:**
- ID: 405202
- Mapped: yes

**Предусловия:**
- Доступен проект

**Шаги:**
1. Открыть ссылку на Rigs с допустимым идентификатором вкладки
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- Страница Rigs отображается

**Автотест:**
- Название теста: should only accept "list" as valid Rigs tab UUID
- Новое имя: RIG-014 should only accept "list" as valid Rigs tab UUID [405202]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 47. Некорректный идентификатор вкладки Rigs обрабатывается без критического сбоя
При открытии Rigs с некорректным идентификатором приложение либо корректирует адрес, либо не отображает страницу Rigs.

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- Доступен проект

**Шаги:**
1. Открыть ссылку на Rigs с некорректным идентификатором вкладки
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- Если страница Rigs отображается, адрес страницы содержит корректный сегмент `/rigs/list`
- Если страница Rigs не отображается, это также считается корректной обработкой некорректного адреса

**Автотест:**
- Название теста: should handle invalid Rigs tab UUID gracefully
- Новое имя: RIG-015 should handle invalid Rigs tab UUID gracefully
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 48. При переходе с Dashboard на Rigs сбрасывается активное выделение в дереве объектов
При открытии Rigs после Dashboard в дереве объектов не должно быть активного выделения.

**TestRail:**
- ID: 405203
- Mapped: yes

**Предусловия:**
- Открыт Dashboard

**Шаги:**
1. Открыть Dashboard
2. Открыть Rigs

**Ожидаемый результат:**
- Если дерево объектов отображается, в нём нет активного выделения элементов

**Автотест:**
- Название теста: should reset tree state when switching to Rigs tab from Dashboard
- Новое имя: RIG-016 should reset tree state when switching to Rigs tab from Dashboard [405203]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 49. При первом открытии Rigs отображается Dashboard ribbon с отключёнными кнопками
После открытия Rigs **Dashboard ribbon** виден, но его кнопки **disabled**, потому что на вкладке Rigs нет активного контекста дашборда.

**TestRail:**
- ID: 406047
- Mapped: yes

**Предусловия:**
- Доступен проект

**Шаги:**
1. Открыть Rigs
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- Dashboard ribbon отображается
- Кнопки ribbon отключены (нет активного dashboard context)

**Автотест:**
- Название теста: should display Dashboard ribbon with disabled buttons when Rigs tab first opened
- Новое имя: RIG-017 should display Dashboard ribbon with disabled buttons when Rigs tab first opened [406047]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 50. При прямой навигации на Rigs отображается Dashboard ribbon с отключёнными кнопками
После прямого открытия Rigs **Dashboard ribbon** виден, но его кнопки **disabled**, потому что на вкладке Rigs нет активного контекста дашборда.

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- Доступен проект

**Шаги:**
1. Открыть Rigs по прямой ссылке
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- Dashboard ribbon отображается
- Кнопки ribbon отключены (нет активного dashboard context)

**Автотест:**
- Название теста: should show Dashboard ribbon with disabled buttons on Rigs tab (Case 1: direct navigation)
- Новое имя: RIG-018 should show Dashboard ribbon with disabled buttons on Rigs tab (Case 1: direct navigation)
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 51. При переключении с Dashboard на Rigs кнопка Add New Widget доступна на Dashboard и недоступна на Rigs
При переключении вкладок состояние кнопки Add New Widget меняется: на Dashboard она доступна, на Rigs — недоступна.

**TestRail:**
- ID: Not found

**Предусловия:**
- Открыты вкладки Dashboard и Rigs

**Шаги:**
1. Открыть Dashboard
2. Убедиться, что кнопка Add New Widget доступна
3. Переключиться на вкладку Rigs

**Ожидаемый результат:**
- На Dashboard кнопка Add New Widget доступна
- На Rigs панель действий Dashboard отображается с отключёнными кнопками

**Автотест:**
- Название теста: should show Dashboard ribbon with disabled buttons when switching from Dashboard to Rigs (Case 2)
- Новое имя: RIG-019 should show Dashboard ribbon with disabled buttons when switching from Dashboard to Rigs (Case 2)
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 52. На вкладке Rigs панель действий Dashboard остаётся в состоянии “недоступно” после стабилизации страницы
Панель действий Dashboard остаётся с отключёнными кнопками после ожидания стабилизации страницы.

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- Открыта вкладка Rigs

**Шаги:**
1. Открыть Rigs
2. Подождать стабилизации страницы

**Ожидаемый результат:**
- Панель действий Dashboard отображается с отключёнными кнопками

**Автотест:**
- Название теста: should show Dashboard ribbon with disabled buttons on Rigs tab (Case 3: ribbon persists)
- Новое имя: RIG-020 should show Dashboard ribbon with disabled buttons on Rigs tab (Case 3: ribbon persists)
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 53. Переключение между Rigs и Dashboard скрывает содержимое неактивной вкладки
При переключении на Dashboard содержимое Rigs скрывается.

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- Открыты вкладки Dashboard и Rigs

**Шаги:**
1. Открыть Rigs
2. Переключиться на Dashboard

**Ожидаемый результат:**
- При активном Dashboard содержимое страницы Rigs не отображается

**Автотест:**
- Название теста: should switch from Rigs to Dashboard and back correctly
- Новое имя: RIG-021 should switch from Rigs to Dashboard and back correctly
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 54. Данные на странице Rigs сохраняются при переключении вкладок
При переключении на Dashboard и обратно на Rigs данные на странице Rigs остаются доступными.

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- Открыты вкладки Dashboard и Rigs
- На странице Rigs отображаются данные

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Переключиться на Dashboard
3. Переключиться обратно на Rigs

**Ожидаемый результат:**
- После возврата на Rigs данные в таблице по-прежнему отображаются

**Автотест:**
- Название теста: should maintain Rigs data when switching tabs
- Новое имя: RIG-022 should maintain Rigs data when switching tabs
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 55. На странице Rigs отображаются названия установок
При открытии Rigs отображаются элементы списка установок (названия).

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- В проекте есть установки (rigs)

**Шаги:**
1. Открыть Rigs
2. Дождаться загрузки данных

**Ожидаемый результат:**
- В таблице отображаются названия установок (например, «Rig 1» и «Rig 2»)

**Автотест:**
- Название теста: should display rig names from API
- Новое имя: RIG-023 should display rig names from API (partial) [77791]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 56. На странице Rigs отображается информация о типе установки
В таблице присутствует колонка Rig Type и отображаются строки с данными.

**TestRail:**
- ID: 77791 (partial), Automated был уже установлен
- Mapped: yes

**Предусловия:**
- В проекте есть установки (rigs)

**Шаги:**
1. Открыть Rigs
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- В таблице виден заголовок колонки «Rig Type»
- В таблице отображаются строки с данными (например, видна запись «Rig 1»)

**Автотест:**
- Название теста: should display rig type information
- Новое имя: RIG-024 should display rig type information (partial) [77791]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 57. Страница Rigs отображается после завершения загрузки данных
После загрузки данных отображается страница Rigs.

**TestRail:**
- ID: 405201
- Mapped: yes

**Предусловия:**
- Доступен проект

**Шаги:**
1. Открыть Rigs
2. Дождаться завершения загрузки

**Ожидаемый результат:**
- Страница Rigs отображается

**Автотест:**
- Название теста: should show Rigs page after data is loaded
- Новое имя: RIG-025 should show Rigs page after data is loaded [405201]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 58. При клике по вкладке Rigs адрес страницы обновляется на формат Rigs
После переключения на вкладку Rigs адрес страницы обновляется на формат `/rigs/...`.

**TestRail:**
- ID: 405200
- Mapped: yes

**Предусловия:**
- Открыты вкладки Dashboard и Rigs
- Активна вкладка Dashboard

**Шаги:**
1. Открыть Dashboard
2. В панели вкладок нажать на вкладку Rigs

**Ожидаемый результат:**
- Адрес страницы обновляется и содержит сегмент `/rigs/list`

**Автотест:**
- Название теста: should update URL when Rigs tab is activated by click
- Новое имя: RIG-026 should update URL when Rigs tab is activated by click [405200]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 59. При прямой навигации на Rigs адрес страницы соответствует формату Rigs
При открытии Rigs по прямой ссылке адрес страницы содержит корректный путь.

**TestRail:**
- ID: 405201
- Mapped: yes

**Предусловия:**
- Доступен проект

**Шаги:**
1. Открыть Rigs по прямой ссылке
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- Адрес страницы содержит сегмент `/projects/<uuid>/rigs/list`

**Автотест:**
- Название теста: should sync URL when navigating directly to Rigs
- Новое имя: RIG-027 should sync URL when navigating directly to Rigs [405201]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 60. Вкладка Rigs открывается только один раз (повторное открытие не создаёт дубликаты)
Повторное открытие Rigs не увеличивает количество вкладок.

**TestRail:**
- ID: 77790 (partial), Automated был уже установлен
- Mapped: yes

**Предусловия:**
- Открыт Rigs

**Шаги:**
1. Открыть Rigs
2. Перейти на другую страницу проекта
3. Снова открыть Rigs

**Ожидаемый результат:**
- Количество вкладок не увеличивается по сравнению с исходным

**Автотест:**
- Название теста: C77790: Rig tab opens only one time - singleton behavior
- Новое имя: RIG-028 C77790: Rig tab opens only one time - singleton behavior (partial) [77790]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 61. Пустое состояние таблицы Rigs отображается корректно
Если в проекте нет установок, отображаются заголовок страницы и структура таблицы.

**TestRail:**
- ID: 77793 (Automated был уже установлен), 405209 
- Mapped: yes

**Предусловия:**
- В проекте нет установок (rigs)

**Шаги:**
1. Открыть Rigs
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- Видим заголовок «Rigs»
- Таблица отображается
- На странице виден заголовок колонки «Rig name»

**Автотест:**
- Название теста: C77793: Empty Rig table state displays correctly
- Новое имя: RIG-029 C77793: Empty Rig table state displays correctly [77793, 405209]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 62. Таблица Rigs содержит ожидаемые колонки
На странице Rigs отображаются ключевые заголовки колонок.

**TestRail:**
- ID: 77791 (partial), Automated был уже установлен
- Mapped: yes

**Предусловия:**
- Доступен проект

**Шаги:**
1. Открыть Rigs
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- Видны заголовки колонок: Rig name, Rig Type, Derrick Type, Drive Type

**Автотест:**
- Название теста: C77791: Table displays correct columns structure
- Новое имя: RIG-030 C77791: Table displays correct columns structure (partial) [77791]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 63. При наведении на заполненную ячейку таблицы возможно отображение подсказки
На странице Rigs выполняется наведение на заполненное значение (Rig 1).

**TestRail:**
- ID: 81110 (partial), Automated был уже установлен
- Mapped: yes

**Предусловия:**
- В проекте есть установки (rigs)

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Навести курсор на значение «Rig 1» в таблице

**Ожидаемый результат:**
- Наведение на заполненное значение выполняется без ошибок

**Автотест:**
- Название теста: C81110: Filled table fields display tooltips on hover
- Новое имя: RIG-031 C81110: Filled table fields display tooltips on hover (partial) [81110]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 64. При открытии Rigs ни одна установка не выделена
При открытии Rigs не должно быть выделенной строки таблицы и не отображается панель установки.

**TestRail:**
- ID: 77802 (Automated был уже установлен), 405194 
- Mapped: yes

**Предусловия:**
- В проекте есть установки (rigs)

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Просмотреть таблицу и панель установки

**Ожидаемый результат:**
- В таблице нет выделенной строки
- Панель установки (rig ribbon) не отображается

**Автотест:**
- Название теста: C77802: No rig is selected when Rig tab opens
- Новое имя: RIG-032 C77802: No rig is selected when Rig tab opens [77802, 405194]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 65. Выбор установки в таблице выполняется
Пользователь может выбрать установку в таблице (клик по строке «Rig 1»).

**TestRail:**
- ID: 77801, Automated был уже установлен
- Mapped: yes

**Предусловия:**
- В проекте есть установки (rigs)

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Нажать на строку «Rig 1» в таблице

**Ожидаемый результат:**
- Выбор установки выполняется (клик обрабатывается без ошибок)

**Автотест:**
- Название теста: C77801: Rig selection syncs between table and object tree
- Новое имя: RIG-033 C77801: Rig selection syncs between table and object tree [77801]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 66. При закрытии вкладки Rigs панель установки не отображается
После закрытия вкладки Rigs панель установки (rig ribbon) не должна отображаться.

**TestRail:**
- ID: 77803, Automated был уже установлен
- Mapped: yes

**Предусловия:**
- Открыты вкладки Dashboard и Rigs

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Выбрать установку в таблице
3. Закрыть вкладку Rigs

**Ожидаемый результат:**
- Страница Rigs не отображается после закрытия вкладки
- Панель установки (rig ribbon) не отображается

**Автотест:**
- Название теста: C77803: Rig selection resets when Rig tab is closed
- Новое имя: RIG-034 C77803: Rig selection resets when Rig tab is closed [77803]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 67. При переходе на список проектов и возврате на Rigs панель установки не отображается
После возврата на Rigs панель установки не должна отображаться.

**TestRail:**
- ID: 77804, Automated был уже установлен
- Mapped: yes

**Предусловия:**
- В проекте есть установки (rigs)

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Выбрать установку в таблице
3. Перейти на страницу со списком проектов
4. Вернуться на Rigs

**Ожидаемый результат:**
- Панель установки (rig ribbon) не отображается после возврата

**Автотест:**
- Название теста: C77804: Rig selection resets when switching projects
- Новое имя: RIG-035 C77804: Rig selection resets when switching projects [77804]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 68. При выборе установки на странице Rigs выполняется действие выбора
После выбора установки выполняется сценарий выбора (клик по строке «Rig 1»).

**TestRail:**
- ID: 78252
- Mapped: yes

**Предусловия:**
- В проекте есть установки (rigs)

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Выбрать установку в таблице

**Ожидаемый результат:**
- Выбор установки выполняется без ошибок

**Автотест:**
- Название теста: C78252: Rig ribbon opens when rig is selected
- Новое имя: RIG-036 C78252: Rig ribbon opens when rig is selected [78252]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 69. После выбора установки доступны действия удаления/дублирования (если предусмотрены интерфейсом)
После выбора установки выполняется поиск кнопок Delete Rig и Duplicate Rig.

**TestRail:**
- ID: 78254, Automated был уже установлен
- Mapped: yes

**Предусловия:**
- В проекте есть установки (rigs)

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Выбрать установку в таблице

**Ожидаемый результат:**
- Выбор установки выполняется без ошибок

**Автотест:**
- Название теста: C78254: Rig ribbon displays correct state and buttons
- Новое имя: RIG-037 C78254: Rig ribbon displays correct state and buttons [78254]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 70. Выбор установки выполняется (проверка взаимодействия с длинным названием)
Сценарий проверяет базовый поток выбора установки и открытия панели действий для установки.

**TestRail:**
- ID: 82164, Automated был уже установлен
- Mapped: yes

**Предусловия:**
- В проекте есть установки (rigs)

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Выбрать установку в таблице

**Ожидаемый результат:**
- Выбор установки выполняется без ошибок

**Автотест:**
- Название теста: C82164: Long rig name is truncated in ribbon
- Новое имя: RIG-038 C82164: Long rig name is truncated in ribbon [82164]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 71. Нажатие Add Rig добавляет новую строку в таблицу (если кнопка доступна на экране)
При нажатии Add Rig количество строк таблицы увеличивается (если элемент доступен).

**TestRail:**
- ID: 78245, Automated был уже установлен
- Mapped: yes

**Предусловия:**
- Открыта страница Rigs

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Нажать «Add Rig» (если действие доступно)

**Ожидаемый результат:**
- Таблица отображается
- Если действие «Add Rig» доступно, количество строк в таблице увеличивается

**Автотест:**
- Название теста: C78245: Add Rig button creates new rig row
- Новое имя: RIG-039 C78245: Add Rig button creates new rig row [78245]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 72. При достижении лимита 100 установок действие Add Rig недоступно (проверка загрузки состояния)
Сценарий открывает страницу Rigs при наличии 100 установок.

**TestRail:**
- ID: 77792, Automated был уже установлен
- Mapped: yes

**Предусловия:**
- В проекте достигнут лимит установок (100)

**Шаги:**
1. Открыть Rigs
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- Страница Rigs отображается

**Автотест:**
- Название теста: C77792: Add Rig disabled at 100 rig limit
- Новое имя: RIG-040 C77792: Add Rig disabled at 100 rig limit [77792]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 73. При наведении на строку установки отображаются действия строки (проверка наведения)
Сценарий выполняет наведение на строку установки.

**TestRail:**
- ID: 77826, Automated был уже установлен
- Mapped: yes

**Предусловия:**
- В проекте есть установки (rigs)

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Навести курсор на строку установки в таблице

**Ожидаемый результат:**
- Наведение на строку выполняется без ошибок

**Автотест:**
- Название теста: C77826: Delete icon appears on rig row hover
- Новое имя: RIG-041 C77826: Delete icon appears on rig row hover [77826]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 74. Нажатие на действие удаления открывает подтверждение (если действие доступно)
При нажатии на действие удаления выполняется попытка открытия диалога подтверждения.

**TestRail:**
- ID: 77827, Automated был уже установлен
- Mapped: yes

**Предусловия:**
- В проекте есть установки (rigs)

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Навести курсор на строку установки
3. Нажать на действие удаления (если оно доступно)

**Ожидаемый результат:**
- Действие удаления можно инициировать (клик обрабатывается без ошибок)

**Автотест:**
- Название теста: C77827: Delete icon shows confirmation dialog
- Новое имя: RIG-042 C77827: Delete icon shows confirmation dialog [77827]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 75. Строка установки выбирается для редактирования (проверка базового сценария)
Сценарий открывает Rigs, выбирает установку и подтверждает наличие таблицы.

**TestRail:**
- ID: 78246 (partial), Automated был уже установлен
- Mapped: yes

**Предусловия:**
- В проекте есть установки (rigs)

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Нажать на строку «Rig 1»

**Ожидаемый результат:**
- Таблица отображается
- Нажатие на строку выполняется без ошибок

**Автотест:**
- Название теста: C78246: Rig data can be updated via table row editing
- Новое имя: RIG-043 C78246: Rig data can be updated via table row editing (partial) [78246]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 76. При наведении на строку установки доступно действие дублирования (проверка наведения)
Сценарий выполняет наведение на строку установки для проверки доступности действия дублирования.

**TestRail:**
- ID: 81492, Automated был уже установлен
- Mapped: yes

**Предусловия:**
- В проекте есть установки (rigs)

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Навести курсор на строку установки в таблице

**Ожидаемый результат:**
- Наведение на строку выполняется без ошибок

**Автотест:**
- Название теста: C81492: Duplicate icon appears on rig row hover
- Новое имя: RIG-044 C81492: Duplicate icon appears on rig row hover [81492]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 77. Дублирование установки увеличивает количество строк (если действие доступно)
При нажатии на действие дублирования количество строк таблицы увеличивается (если действие доступно).

**TestRail:**
- ID: 81493 (partial), Automated был уже установлен
- Mapped: yes

**Предусловия:**
- В проекте есть установки (rigs)

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Навести курсор на строку установки
3. Нажать действие дублирования (если оно доступно)

**Ожидаемый результат:**
- Если действие дублирования доступно, количество строк в таблице увеличивается

**Автотест:**
- Название теста: C81493: Duplicate icon creates new rig copy
- Новое имя: RIG-045 C81493: Duplicate icon creates new rig copy (partial) [81493]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 78. При достижении лимита 100 установок дублирование недоступно (проверка загрузки состояния)
Сценарий открывает страницу Rigs при наличии 100 установок.

**TestRail:**
- ID: 84477, Automated был уже установлен
- Mapped: yes

**Предусловия:**
- В проекте достигнут лимит установок (100)

**Шаги:**
1. Открыть Rigs
2. Дождаться загрузки страницы

**Ожидаемый результат:**
- Страница Rigs отображается

**Автотест:**
- Название теста: C84477: Duplicate disabled at 100 rig limit
- Новое имя: RIG-046 C84477: Duplicate disabled at 100 rig limit [84477]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 79. Таблица Rigs отображается при проверке ограничений текстовых полей
Сценарий подтверждает наличие страницы Rigs и таблицы (подготовка к проверке ограничений длины текста).

**TestRail:**
- ID: 77795, Automated был уже установлен
- Mapped: yes

**Предусловия:**
- В проекте есть установки (rigs)

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Убедиться, что таблица доступна

**Ожидаемый результат:**
- Страница Rigs отображается
- Таблица отображается

**Автотест:**
- Название теста: C77795: Text fields limited to 40 characters
- Новое имя: RIG-047 C77795: Text fields limited to 40 characters [77795]
- Путь: playwright/tests/Tabs/rigs.spec.ts
- Autotest: tests/Tabs/rigs.spec.ts::RIG-047 C77795: Text fields limited to 40 characters [77795]

---

### 80. Попытка задать одинаковые названия установок выполняется (проверка сценария ввода)
Сценарий выполняет попытку задать установке имя, совпадающее с именем другой установки (если поле доступно для ввода).

**TestRail:**
- ID: 77824, Automated был уже установлен
- Mapped: yes

**Предусловия:**
- В проекте есть как минимум две установки (rigs)

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Если доступно редактирование, попытаться задать второй установке имя «Rig 1»

**Ожидаемый результат:**
- Сценарий ввода выполняется без критического сбоя (редактирование/потеря фокуса обрабатываются)

**Автотест:**
- Название теста: C77824: Duplicate rig names show validation error
- Новое имя: RIG-048 C77824: Duplicate rig names show validation error [77824]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 81. Переключение с Rigs на Dashboard выполняется при открытой таблице
Сценарий подтверждает, что вкладка Rigs активна (таблица отображается), после чего выполняется переключение на Dashboard.

**TestRail:**
- ID: 82152
- Mapped: yes

**Предусловия:**
- Открыты вкладки Dashboard и Rigs

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Переключиться на вкладку Dashboard

**Ожидаемый результат:**
- На вкладке Rigs таблица отображается до переключения

**Автотест:**
- Название теста: C82152: Unsaved data handling when switching tabs
- Новое имя: RIG-049 Unsaved data handling when switching tabs [82152]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 82. Закрытие вкладки Rigs выполняется (проверка сценария закрытия)
Сценарий выполняет попытку закрыть вкладку Rigs после её открытия.

**TestRail:**
- ID: 82156
- Mapped: yes

**Предусловия:**
- Открыты вкладки Dashboard и Rigs

**Шаги:**
1. Открыть Rigs и дождаться загрузки данных
2. Закрыть вкладку Rigs (если доступна кнопка закрытия)

**Ожидаемый результат:**
- Действие закрытия вкладки выполняется (клик по кнопке закрытия обрабатывается без ошибок)

**Автотест:**
- Название теста: C82156: Unsaved data warning when closing Rig tab
- Новое имя: RIG-050 Unsaved data warning when closing Rig tab [82156]
- Путь: playwright/tests/Tabs/rigs.spec.ts

---

### 83. Переход по прямой ссылке на Linear Widget открывает соответствующий виджет
Открытие ссылки со специальным параметром виджета приводит к отображению Linear Widget.

**TestRail:**
- ID: 403516
- Mapped: yes

**Предусловия:**
- Доступен проект и скважина

**Шаги:**
1. Открыть ссылку на скважину со специальным параметром открытия Linear Widget
2. Дождаться перенаправления и загрузки страницы

**Ожидаемый результат:**
- На странице отображается Linear Widget

**Автотест:**
- Название теста: should open Linear widget via direct link
- Новое имя: WG-001 should open Linear widget via direct link [403516]
- Путь: playwright/tests/Widgets/widget-direct-links.spec.ts

---

### 84. Переход по прямой ссылке на Days vs Depth открывает соответствующий виджет
Открытие ссылки со специальным параметром виджета приводит к отображению Days vs Depth.

**TestRail:**
- ID: 218411 (partial)
- Mapped: yes

**Предусловия:**
- Доступен проект и скважина

**Шаги:**
1. Открыть ссылку на скважину со специальным параметром открытия Days vs Depth
2. Дождаться перенаправления и загрузки страницы

**Ожидаемый результат:**
- На странице отображается виджет Days vs Depth

**Автотест:**
- Название теста: should open Days vs Depth widget via direct link
- Новое имя: WG-002 should open Days vs Depth widget via direct link (partial) [218411]
- Путь: playwright/tests/Widgets/widget-direct-links.spec.ts

---

### 85. Переход по прямой ссылке на Numeral открывает соответствующий виджет
Открытие ссылки со специальным параметром виджета приводит к отображению Numeral.

**TestRail:**
- ID: 403517
- Mapped: yes

**Предусловия:**
- Доступен проект и скважина

**Шаги:**
1. Открыть ссылку на скважину со специальным параметром открытия Numeral
2. Дождаться перенаправления и загрузки страницы

**Ожидаемый результат:**
- На странице отображается Numeral Widget

**Автотест:**
- Название теста: should open Numeral widget via direct link (no maximization)
- Новое имя: WG-003 should open Numeral widget via direct link (no maximization) [403517]
- Путь: playwright/tests/Widgets/widget-direct-links.spec.ts

---

### 86. Переход по прямой ссылке на Driller's Panel открывает соответствующий виджет
Открытие ссылки со специальным параметром виджета приводит к отображению Driller's Panel.

**TestRail:**
- ID: 403518
- Mapped: yes

**Предусловия:**
- Доступен проект и скважина

**Шаги:**
1. Открыть ссылку на скважину со специальным параметром открытия Correlation
2. Дождаться перенаправления и загрузки страницы

**Ожидаемый результат:**
- На странице отображается Correlation Widget

**Автотест:**
- Название теста: should open Correlation widget via direct link
- Новое имя: WG-004 should open Correlation widget via direct link [403518]
- Путь: playwright/tests/Widgets/widget-direct-links.spec.ts

---

### 87. Переход по прямой ссылке на GeoTarget открывает соответствующий виджет
Открытие ссылки со специальным параметром виджета приводит к отображению GeoTarget.

**TestRail:**
- ID: 403519
- Mapped: yes

**Предусловия:**
- Доступен проект и скважина

**Шаги:**
1. Открыть ссылку на скважину со специальным параметром открытия GeoTarget
2. Дождаться перенаправления и загрузки страницы

**Ожидаемый результат:**
- На странице отображается GeoTarget Widget

**Автотест:**
- Название теста: should open GeoTarget widget via direct link
- Новое имя: WG-005 should open GeoTarget widget via direct link [403519]
- Путь: playwright/tests/Widgets/widget-direct-links.spec.ts

---

### 88. Переход по прямой ссылке на XPlot открывает соответствующий виджет
Открытие ссылки со специальным параметром виджета приводит к отображению XPlot.

**TestRail:**
- ID: 403520
- Mapped: yes

**Предусловия:**
- Доступен проект и скважина

**Шаги:**
1. Открыть ссылку на скважину со специальным параметром открытия XPlot
2. Дождаться перенаправления и загрузки страницы

**Ожидаемый результат:**
- На странице отображается XPlot Widget

**Автотест:**
- Название теста: should open XPlot widget via direct link
- Новое имя: WG-006 should open XPlot widget via direct link [403520]
- Путь: playwright/tests/Widgets/widget-direct-links.spec.ts

---

### 89. Переход по прямой ссылке на Metrics открывает соответствующий виджет
Открытие ссылки со специальным параметром виджета приводит к отображению Metrics.

**TestRail:**
- ID: 403521
- Mapped: yes

**Предусловия:**
- Доступен проект и скважина

**Шаги:**
1. Открыть ссылку на скважину со специальным параметром открытия Metrics
2. Дождаться перенаправления и загрузки страницы

**Ожидаемый результат:**
- На странице отображается Metrics Widget

**Автотест:**
- Название теста: should open Metrics widget via direct link
- Новое имя: WG-007 should open Metrics widget via direct link [403521]
- Путь: playwright/tests/Widgets/widget-direct-links.spec.ts

---

### 90. Каналы виджета Linear сохраняются при поздней загрузке данных
При задержке загрузки данных виджет сохраняет отображаемые каналы и после завершения загрузки отображает ожидаемое количество каналов.

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- Доступен проект, дашборд и скважина

**Шаги:**
1. Открыть дашборд с Linear Widget
2. Дождаться отображения виджета
3. Дождаться завершения загрузки данных

**Ожидаемый результат:**
- Linear Widget отображается
- После завершения загрузки данных в виджете отображается 2 канала

**Автотест:**
- Название теста: should preserve widget traces when traces request is delayed
- Новое имя: WG-008 should preserve widget traces when traces request is delayed
- Путь: playwright/tests/Widgets/trace-race-condition.spec.ts

---

### 91. Linear Widget отображается на дашборде
Открытие дашборда приводит к отображению Linear Widget.

**TestRail:**
- ID: Not found

**Предусловия:**
- Доступен проект, дашборд и скважина

**Шаги:**
1. Открыть дашборд со скважиной
2. Дождаться отображения Linear Widget

**Ожидаемый результат:**
- Linear Widget отображается

**Автотест:**
- Название теста: should render Linear widget
- Новое имя: LIN-001 should render Linear widget
- Путь: playwright/tests/Widgets/linear/linear-template.spec.ts

---

### 92. Работа с Linear Widget: добавление каналов и добавление второго трека
Пользователь может добавить каналы на Linear Widget и добавить второй трек.

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- Доступен дашборд со скважиной
- На странице доступен список каналов (traces)

**Шаги:**
1. Открыть дашборд со скважиной и дождаться загрузки
2. Добавить два канала в Linear Widget
3. Добавить второй трек в Linear Widget

**Ожидаемый результат:**
- Элементы выбранных каналов видны в списке и доступны для выбора
- После добавления трека на виджете доступно два трека

**Автотест:**
- Название теста: should open Linear widget for active well
- Новое имя: LIN-002 should open Linear widget for active well
- Путь: playwright/tests/Widgets/linear/linear-widget.spec.ts

---

### 93. Изменение порогов опасностей обновляет индикацию на Linear Widget
После изменения порога опасности состояние индикации события на виджете меняется (перестаёт быть критическим).

**TestRail:**
- ID: 316801 (partial)
- Mapped: yes

**Предусловия:**
- Доступен проект с дашбордом
- Доступны настройки порогов опасностей

**Шаги:**
1. Открыть дашборд и добавить Linear Widget
2. Добавить на виджет канал/событие, отображающее опасность
3. Изменить порог опасности в настройках и сохранить

**Ожидаемый результат:**
- Linear Widget отображается
- На виджете отображается событие опасности
- После сохранения новых порогов состояние индикации события меняется и не является критическим

**Автотест:**
- Название теста: should automatically update hazard colors when thresholds change
- Новое имя: LIN-003 should automatically update hazard colors when thresholds change (partial) [316801]
- Путь: playwright/tests/Widgets/linear/hazard-thresholds-update.spec.ts

---

### 94. GeoTarget 3D виджет отображается и соответствует эталонному виду
GeoTarget 3D отображается, и его визуальное состояние соответствует ожидаемому эталону.

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- Доступен дашборд со скважиной

**Шаги:**
1. Открыть GeoTarget 3D для выбранной скважины
2. Дождаться стабилизации отображения

**Ожидаемый результат:**
- Визуальное состояние 3D-сцены соответствует эталонному (скриншот-сравнение)

**Автотест:**
- Название теста: should render GeoTarget 3D widget
- Новое имя: DIR-001 should render GeoTarget 3D widget
- Путь: playwright/tests/Widgets/geotarget/geotarget-template.spec.ts

---

### 95. GeoTarget 3D автоматически центрируется на активной скважине и корректно переносит взаимодействия
При переключении между скважинами виджет отображается ожидаемо и соответствует эталонному виду после взаимодействий.

**TestRail:**
- ID: 340977, Automated был уже установлен
- Mapped: yes

**Предусловия:**
- Доступен дашборд со скважинами

**Шаги:**
1. Открыть GeoTarget 3D для скважины 1 и дождаться стабилизации
2. Выполнить взаимодействия со сценой (зум/поворот/панорамирование)
3. Переключиться на скважину 2 и дождаться стабилизации
4. Снова выполнить взаимодействия и переключиться обратно на скважину 1

**Ожидаемый результат:**
- Визуальное состояние сцены для скважины 1 соответствует эталону
- Визуальное состояние сцены для скважины 2 соответствует эталону

**Автотест:**
- Название теста: should auto-center on active well and handle interactions
- Новое имя: DIR-002 should auto-center on active well and handle interactions [340977]
- Путь: playwright/tests/Widgets/geotarget/geotarget-3d.spec.ts

---

### 96. Driller Panel отображается на дашборде
Открытие дашборда приводит к отображению виджета Driller Panel.

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- Доступен проект и скважины

**Шаги:**
1. Открыть дашборд Driller Panel
2. Дождаться загрузки виджета

**Ожидаемый результат:**
- Виджет Driller Panel отображается

**Автотест:**
- Название теста: should render Driller Panel widget with offsets
- Новое имя: DP-001 should render Driller Panel widget with offsets
- Путь: playwright/tests/Widgets/driller-panel/driller-panel-template.spec.ts

---

### 97. На Driller Panel в режиме TVT отображается поле 0 TVT
Поле 0 TVT отображается на панели настроек виджета в режиме TVT.

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- Открыт Driller Panel, отображается панель настроек/лента (ribbon)

**Шаги:**
1. Открыть Driller Panel и перейти к панели настроек виджета
2. Дождаться отображения элементов управления

**Ожидаемый результат:**
- Поле 0 TVT отображается

**Автотест:**
- Название теста: should display 0 TVT field
- Новое имя: DP-002 should display 0 TVT field
- Путь: playwright/tests/Widgets/driller-panel/zero-tvt-horizon.spec.ts

---

### 98. Поле 0 TVT содержит чекбокс и селект горизонта
В поле 0 TVT отображаются чекбокс и кнопка выбора горизонта.

**TestRail:**
- ID: 390861 
- Mapped: yes

**Предусловия:**
- Открыт Driller Panel, отображается панель настроек/лента (ribbon)

**Шаги:**
1. Открыть Driller Panel и перейти к панели настроек виджета
2. Дождаться отображения поля 0 TVT

**Ожидаемый результат:**
- Поле 0 TVT отображается
- Чекбокс 0 TVT отображается
- Кнопка выбора горизонта отображается

**Автотест:**
- Название теста: should display checkbox and select input in 0 TVT field
- Новое имя: DP-003 should display checkbox and select input in 0 TVT field [390861]
- Путь: playwright/tests/Widgets/driller-panel/zero-tvt-horizon.spec.ts

---

### 99. В селекте горизонта отображается непустой список опций
При открытии списка горизонтов отображаются варианты выбора.

**TestRail:**
- ID: 390866 (related)
- Mapped: no

**Предусловия:**
- Открыт Driller Panel, доступен выбор горизонта

**Шаги:**
1. Открыть Driller Panel и панель настроек виджета
2. Нажать на выбор горизонта

**Ожидаемый результат:**
- Список горизонтов отображается
- Список содержит как минимум 1 опцию

**Автотест:**
- Название теста: should display not empty options list in horizon select
- Новое имя: DP-004 should display not empty options list in horizon select
- Путь: playwright/tests/Widgets/driller-panel/zero-tvt-horizon.spec.ts

---

### 100. В выборе горизонта отображается значение первого горизонта как выбранное
При открытии списка горизонтов отображается выбранное значение, соответствующее первой опции списка.

**TestRail:**
- ID: 390867
- Mapped: yes

**Предусловия:**
- Открыт Driller Panel, доступен выбор горизонта

**Шаги:**
1. Открыть Driller Panel и панель настроек виджета
2. Открыть список горизонтов

**Ожидаемый результат:**
- Первая опция списка горизонтов видна
- Отображаемое выбранное значение соответствует первой опции списка

**Автотест:**
- Название теста: should display horizon select with horizons from starred interpretation where first horizon is selected
- Новое имя: DP-005 should display horizon select with horizons from starred interpretation where first horizon is selected [390867]
- Путь: playwright/tests/Widgets/driller-panel/zero-tvt-horizon.spec.ts

---

### 101. В опциях горизонта отображается иконка горизонта
Для опции горизонта отображается иконка.

**TestRail:**
- ID: Not found

**Предусловия:**
- Открыт Driller Panel, доступен выбор горизонта

**Шаги:**
1. Открыть Driller Panel и панель настроек виджета
2. Открыть список горизонтов

**Ожидаемый результат:**
- Первая опция списка видна
- У опции отображается иконка

**Автотест:**
- Название теста: should display horizon icon and name in select options
- Новое имя: DP-006 should display horizon icon and name in select options
- Путь: playwright/tests/Widgets/driller-panel/zero-tvt-horizon.spec.ts

---

### 102. Состояние чекбокса 0 TVT и выбранный горизонт сохраняются
При включении чекбокса 0 TVT сохраняется состояние “включено” и сохраняется выбранный горизонт.

**TestRail:**
- ID: Not found
- Mapped: no

**Предусловия:**
- Открыт Driller Panel, доступно поле 0 TVT

**Шаги:**
1. Открыть Driller Panel и панель настроек виджета
2. Включить чекбокс 0 TVT

**Ожидаемый результат:**
- Состояние чекбокса 0 TVT сохраняется как включённое
- Выбранный горизонт сохраняется

**Автотест:**
- Название теста: should save zero TVT checkbox state to wellbore settings and also first selected horizon uuid
- Новое имя: DP-007 should save zero TVT checkbox state to wellbore settings and also first selected horizon uuid
- Путь: playwright/tests/Widgets/driller-panel/zero-tvt-horizon.spec.ts

---

### 103. Выбор другого горизонта сохраняется
При выборе другого горизонта сохраняется новый выбранный горизонт.

**TestRail:**
- ID: 390868
- Mapped: yes

**Предусловия:**
- Открыт Driller Panel, доступен выбор горизонта

**Шаги:**
1. Открыть Driller Panel и панель настроек виджета
2. Открыть список горизонтов и выбрать другой горизонт

**Ожидаемый результат:**
- Выбранный горизонт сохраняется

**Автотест:**
- Название теста: should save zero TVT horizon uuid to wellbore settings
- Новое имя: DP-008 should save zero TVT horizon uuid to wellbore settings [390868]
- Путь: playwright/tests/Widgets/driller-panel/zero-tvt-horizon.spec.ts

---

### 104. В режиме MD поле 0 TVT не отображается
После переключения режима на MD поле 0 TVT скрывается.

**TestRail:**
- ID: 390862
- Mapped: yes

**Предусловия:**
- Открыт Driller Panel, доступно переключение режима (TVD/MD)

**Шаги:**
1. Открыть Driller Panel и панель настроек виджета
2. Переключиться в режим MD

**Ожидаемый результат:**
- Поле 0 TVT не отображается в режиме MD

**Автотест:**
- Название теста: should not display 0 TVT control in MD mode
- Новое имя: DP-009 should not display 0 TVT control in MD mode [390862]
- Путь: playwright/tests/Widgets/driller-panel/zero-tvt-horizon.spec.ts

---

### 105. Переключение режима с TVT на MD не приводит к повторному сохранению настроек 0 TVT
После включения 0 TVT переключение режима на MD не выполняет дополнительное сохранение.

**TestRail:**
- ID: 390877 (partial)
- Mapped: yes

**Предусловия:**
- Открыт Driller Panel
- Доступно поле 0 TVT и переключение режима TVT/MD

**Шаги:**
1. Открыть Driller Panel и панель настроек виджета
2. Включить чекбокс 0 TVT
3. Переключиться в режим MD

**Ожидаемый результат:**
- Сохранение настроек 0 TVT происходит только один раз (при включении чекбокса)
- Переключение режима на MD не приводит к повторному сохранению

**Автотест:**
- Название теста: should not trigger extra PUT request when switching from TVT to MD
- Новое имя: DP-010 should not trigger extra PUT request when switching from TVT to MD (partial) [390877]
- Путь: playwright/tests/Widgets/driller-panel/zero-tvt-horizon.spec.ts


